Basic SSH Command
ssh username@server-ip

SSH with Private Key (Most Common for Cloud â€” Azure/AWS/GCP)
ssh -i <private-key-file> username@server-ip

sudo -s (to go to root user and not required enter pwd again and again)

apt update (before installing any packages run this cmd)

example for ip tables(traffic allow/deny)

SSH into devapp01 as the user bob:

ssh bob@devapp01
# Enter password: caleston123
Switch to the root shell to avoid entering the password repeatedly:

sudo -s
# Enter password: caleston123
Permit outgoing access to port 5432 on devdb01:

iptables -A OUTPUT -p tcp -d 172.16.238.11 --dport 5432 -j ACCEPT
Permit outgoing HTTP access to caleston-repo-01:

iptables -A OUTPUT -p tcp -d 172.16.238.15 --dport 80 -j ACCEPT
Block all other outgoing HTTP traffic:

iptables -A OUTPUT -p tcp --dport 80 -j DROP
Block all outgoing HTTPS traffic:

iptables -A OUTPUT -p tcp --dport 443 -j DROP
(Optional) Verify the rules and their order:

iptables -L -v --line-numbers

To find default shell --> echo $SHELL

--------------------------------------------------------------------

Set an alias called up for the command uptime and make it persistent by adding to ~/.profile file.

echo 'alias up=uptime' >> ~/.profile

To use the alias immediately into the current shell session immediately:

source ~/.profile
------------------------------------------------------------------
sudo find  /opt -name caleston-code (find caleston-code in opt folder)

ip a
ip r 
telnet
ping
/etc/resolv.conf
ip link

---------------------------
sudo grep /etc/sudoers --to heck what permissions one have

/etc/shadow - encrypted pwd of user

/etc/passwd - to check full name

id <username> - to check uid, gid, which group is part of

sudo useradd <username> - to add new user
sudo passwd <username> - to add pwd

---------------------------------------------
ls- -ld (to check what permissions present for directory)
ls -ld
drwxr-x--- 2 bob bob 4096 Feb 25 13:51 .
owner, group of users, other users

4 2 1 read write execute
chmod 777 /home/sai/devops

sudo chown kumar /home/sai/devops/ci-cd (owner will change to kumar for ci-cd)
to change for entire directorty -- sudo chown -R /home/sai/devops
----------------------------------------------------------------

to generate ssh keys

ssh-keygen -t rsa

generation flow:
ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/bob/.ssh/id_rsa): 
Created directory '/home/bob/.ssh'.
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/bob/.ssh/id_rsa.
Your public key has been saved in /home/bob/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:xY9eVRM/OfJylmDNgBTMlGsKZafFaZwukFTIQS+Je3Y bob@devapp01
The key's randomart image is:
+---[RSA 2048]----+
|      ++=.B+*. oo|
|      .=o+ &  +.+|
|     . o+.O .+.*.|
|      ...+ *..+ +|
|     . oSE= o. = |
|      o .o .  +  |
|          .      |
|                 |
|                 |
+----[SHA256]-----+

-----------------------------------------------------------

to copy public key to server

ssh-copy-id bob@devapp01

public key stored in below location in server

/home/azureuser/.ssh/authorized_keys

SSH uses asymmetric cryptography. The client keeps the private key, and the server stores the public key in the authorized_keys file. During login, the server sends a challenge that the client signs using its private key. The server verifies the signature using the stored public key. If verification succeeds, access is granted without transmitting the private key.

to copy files from local desktop to remote server

scp /home/bob/caleston-code.tar.gz devapp01:/home/bob
-----------------------------------------------------------
crontab -l -->to list cronjobs scheduled

crontab -e --> to create new cronjob a vi editor will open you can add new cron job there

to remove:

crontab -r

Cron file location:

/var/spool/cron/
/etc/crontab
/etc/cron.d/


Cron Expression Format:

* * * * *  command
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ Day of week (0â€“7) (Sunday = 0 or 7)
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€ Month (1â€“12)
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€ Day of month (1â€“31)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€ Hour (0â€“23)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Minute (0â€“59)

Special Characters in Cron

These are very important for interviews.

Symbol	Meaning	Example
*	Every value	* * * * * (every minute)
,	Multiple values	1,15,30
-	Range	1-5
/	Step interval	*/5
?	No specific value (Quartz cron)	Used in Spring
L	Last day	L
W	Weekday nearest	15W
#	Nth weekday	2#1 (first Monday)

----------------------------------------------------------------

systemctl is used to control and manage services, while journalctl is used to view logs generated by those services and the system.

Common services you manage:

docker

kubelet

nginx

sshd

crond

apache

jenkins

containerd

systemctl status nginx
systemctl restart nginx
systemctl enable nginx
systemctl daemon-reload

journalctl -u nginx
journalctl -u nginx -f
journalctl -xe
journalctl -b

-----------------------------------------------------------------------

lsblk is used to view disk and partition structure, while tools like fdisk, mkfs, and mount are used to create, format, and attach storage.

lsblk

â¡ï¸ Lists all available block devices (disks and partitions) in a tree format.

lsblk -f

â¡ï¸ Shows block devices along with filesystem type, UUID, and mount points.

fdisk -l

â¡ï¸ Displays detailed information about all disks and their partition tables.

fdisk /dev/sdb

â¡ï¸ Opens interactive partition tool to create or modify partitions on disk /dev/sdb.

mkfs.ext4 /dev/sdb1

â¡ï¸ Creates an ext4 filesystem on the partition /dev/sdb1 (formats the partition).

mount /dev/sdb1 /data

â¡ï¸ Mounts the partition /dev/sdb1 to the directory /data so it becomes accessible.

df -h

â¡ï¸ Shows disk space usage of mounted filesystems in human-readable format (GB/MB).

blkid

â¡ï¸ Displays UUID and filesystem information of block devices (used for /etc/fstab).

umount /data

â¡ï¸ Unmounts the filesystem mounted on /data.

mount -a

â¡ï¸ Mounts all filesystems defined in /etc/fstab.

âœ… Interview Tip Summary

Typical flow:

lsblk â†’ fdisk â†’ mkfs â†’ mount â†’ df â†’ blkid â†’ fstab â†’ mount -a

-----------------------------------------------------------------------------

ğŸ”¹ 1. df -h â†’ Disk Filesystem Usage

ğŸ‘‰ df = disk filesystem

It shows overall disk space usage of mounted filesystems (partitions).

Command
df -h

What it shows

Total disk size

Used space

Available space

Mount point

Example Output
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   45G   3G   94% /
Key Point

âœ… Shows space used at filesystem level
âŒ Does NOT show which files are using space

Think:

df = "How full is my disk?"

2. du -sh â†’ Directory/File Usage

ğŸ‘‰ du = disk usage

It shows space used by files and directories

Command
du -sh *
What it shows

Size of each folder/file

Example
2.1G  logs/
500M  backup/
1.2G  data/
Key Point

âœ… Shows who is consuming space
âŒ Does NOT show filesystem free space

Think:

du = "Who is filling my disk?"

************

If interviewer asks:

Disk is full but no large files found â€” what will you do?

Answer:

Check filesystem usage

df -h

Check directory usage

du -sh /*

If mismatch â†’ suspect deleted open files

Identify using:

lsof | grep deleted

Restart service to release space

**************************
1. ps
Purpose

Shows processes running in current shell/session.

ps
Sample Output
PID TTY          TIME CMD
1234 pts/0    00:00:00 bash
1256 pts/0    00:00:00 ps

Shows limited processes only

2. ps -ef
Purpose

Shows all running processes in full format (system-wide).

Most commonly used in production.

ps -ef
Sample Output
UID   PID  PPID  C STIME TTY   TIME CMD
root    1     0  0 10:00 ?     00:00:02 /sbin/init
root  2345     1  0 10:01 ?     00:00:01 sshd
user  4567  2345  0 10:05 pts/0 00:00:00 bash

ps -ef is used to find PID of services.

3. ps aux
Purpose

Also shows all processes, but in resource usage format.

ps aux
Sample Output
USER  PID %CPU %MEM VSZ   RSS TTY STAT START TIME COMMAND
root    1  0.0  0.1 2256  1400 ?   Ss   10:00 0:02 /sbin/init
user  234  2.1  1.3 50000 10000 ?  Sl   10:05 0:10 java

ps aux is better to check CPU & memory usage.

4. top
Purpose

Real-time system monitoring.

Shows:

CPU usage

Memory usage

Running processes

Load average

top
Sample Output (Top Section)

   1 root      20   0   77156   8704   7028 S   0.0  0.0   0:00.12 systemd                
    202 root      20   0   86636  13348  12708 S   0.0  0.0   0:00.09 systemd-journal        
    298 root      20   0   42112   3576   3052 S   0.0  0.0   0:00.01 systemd-udevd          
    591 systemd+  20   0   70644   5408   4852 S   0.0  0.0   0:00.02 systemd-resolve        
    598 root      20   0   47608   3600   3204 S   0.0  0.0   0:00.01 rpcbind                
    895 message+  20   0   49932   4332   3792 S   0.0  0.0   0:00.00 dbus-daemon      

Identify high CPU or memory consuming processes

5. htop
Purpose

Improved version of top (interactive + colorful).

htop
Features

Graphical CPU bars

Memory bars

Easy process killing

Mouse support

Sorting

ğŸ‘‰ Requires installation:

sudo apt install htop

Interview Tip:

htop is user-friendly top alternative.

6. free -h
Purpose

Shows memory usage (RAM + Swap).

free -h
Sample Output
              total   used   free  shared  buff/cache  available
Mem:           8Gi    3Gi    2Gi    200Mi      3Gi        4Gi
Swap:          2Gi    0Gi    2Gi





